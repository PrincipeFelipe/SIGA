#!/bin/bash
# ============================================================================
# INSTRUCCIONES DE DEBUGGING - MEN√ö DIN√ÅMICO
# ============================================================================

echo "üîç INSTRUCCIONES PARA DEBUGGING DEL MEN√ö"
echo "=========================================="
echo ""
echo "El backend est√° devolviendo correctamente las 5 aplicaciones."
echo "El problema est√° en el frontend (React)."
echo ""
echo "üìã PASOS PARA DIAGNOSTICAR:"
echo ""
echo "1. Abre el navegador en: http://localhost:3000"
echo ""
echo "2. Abre la Consola de Desarrollador:"
echo "   - Chrome/Edge: F12 o Ctrl+Shift+I"
echo "   - Firefox: F12 o Ctrl+Shift+K"
echo "   - Safari: Cmd+Option+I"
echo ""
echo "3. Ve a la pesta√±a 'Console'"
echo ""
echo "4. Haz login con:"
echo "   Usuario: admin"
echo "   Password: Admin123!"
echo ""
echo "5. Busca en la consola estos mensajes:"
echo "   üìã Resultado del men√∫: ..."
echo "   ‚úÖ Men√∫ cargado: [array con 5 elementos]"
echo "   üéØ Sidebar - men√∫ recibido: [array]"
echo ""
echo "6. Si ves errores en rojo, c√≥pialos"
echo ""
echo "7. Ve a la pesta√±a 'Network' (Red)"
echo "   - Filtra por 'menu'"
echo "   - Verifica que aparezca una llamada a: /api/menu"
echo "   - Haz clic en ella y ve la respuesta"
echo ""
echo "=========================================="
echo ""
echo "üîß POSIBLES PROBLEMAS:"
echo ""
echo "A) Si NO ves la llamada a /api/menu:"
echo "   ‚Üí El servicio no se est√° llamando"
echo "   ‚Üí Problema: menuService no est√° importado o no se ejecuta"
echo ""
echo "B) Si ves la llamada pero con error 401:"
echo "   ‚Üí Las cookies no se est√°n enviando"
echo "   ‚Üí Problema: configuraci√≥n de CORS o cookies"
echo ""
echo "C) Si ves la llamada exitosa (200) con 5 items:"
echo "   ‚Üí El men√∫ se est√° cargando pero no se renderiza"
echo "   ‚Üí Problema: estado de React o componente Sidebar"
echo ""
echo "D) Si ves 'üéØ Sidebar - men√∫ recibido: []' (vac√≠o):"
echo "   ‚Üí El men√∫ no est√° llegando al componente"
echo "   ‚Üí Problema: Context no est√° propagando el estado"
echo ""
echo "=========================================="
echo ""
echo "üõ†Ô∏è SOLUCI√ìN R√ÅPIDA - LIMPIAR CACH√â:"
echo ""
echo "En el navegador (con la app abierta):"
echo "  1. Ctrl+Shift+Delete (Limpiar datos)"
echo "  2. Marca: Cookies y Cach√©"
echo "  3. Limpia"
echo "  4. O simplemente: Ctrl+F5 (hard refresh)"
echo ""
echo "=========================================="
echo ""
echo "üìû Si el problema persiste:"
echo "   ‚Üí Copia los mensajes de la consola"
echo "   ‚Üí Copia la respuesta de /api/menu desde Network"
echo "   ‚Üí Comp√°rtelos para diagn√≥stico detallado"
echo ""
